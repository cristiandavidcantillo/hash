<?php
$max_salida = 10; // Previene algun posible ciclo infinito limitando a 10 los ../
$ruta_raiz = $ruta = "";
while ($max_salida > 0) {
  if (@is_file($ruta . "define.php")) {
    $ruta_raiz = $ruta; //Preserva la ruta superior encontrada
    break;
  }
  $ruta .= "../";
  $max_salida--;
}

include_once($ruta_raiz . 'define.php');
include_once($ruta_raiz . 'clases.php');
include_once($ruta_raiz . 'funciones_generales.php');


$acceso = new Acceso();
$acceso->validar_main();
$acceso->acceso_modulo('copy_permissions');
?>

<!DOCTYPE html>
<html lang="es" id="loginPage">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="../../../node_modules/tailwindcss/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../../../librerias/midone/css/app.css" />
  <link rel="stylesheet" href="../../../librerias/fontawesome-free-5.12.1-web/css/all.min.css">
  <link rel="stylesheet" href="../../../librerias/midone/css/scroll.css" />
  
  <link rel="stylesheet" href="./style.css">
  <title>Copiar Permisos</title>
</head>

<body class="overflow-hidden">
  <div class="grid grid-cols-12 gap-3 ml-1 z-0 bg-white">
    <div class="col-span-12 bg-theme-1 rounded-t-lg py-2 text-center text-white">
        <label class="mb-2 text-base font-medium">Copiar Permisos</label>
    </div>

    <div class="col-span-8 col-start-3 col-end-11 pt-3 h-3/4 pb-8">
        <div class="px-4 sm:px-6 lg:px-8 grid grid-cols-2 gap-x-1">
            <div class="mt-3 w-1/2 col-span-2">
                <label class="font-medium text-xs">Plataforma: </label>
                <select data-search="true" class="selectApp w-full">
                </select>
            </div>

            <div class="mt-3">
                <label class="font-medium text-xs">Copiar desde: </label>
                <ul role="list" class="divide-y divide-gray-200 max-h-28 overflow-y-auto bg-gray-50" id="copyFromSelected">

                </ul>
                <input type="text" class="input input--sm w-full border mt-1" id="copyFromFilter" placeholder="Cuenta usuario.." autocomplete="off">
                <ul role="list" class="divide-y divide-gray-200 max-h-28 overflow-y-auto" id="copyFromFound">

                </ul>
            </div>

            <div class="mt-3">
                <label class="font-medium text-xs">Copiar a: </label>
                <ul role="list" class="divide-y divide-gray-200 max-h-28 overflow-y-auto bg-gray-50" id="copyToSelected">

                </ul>
                <input type="text" class="input input--sm w-full border mt-1" id="copyToFilter" placeholder="Cuenta usuario.." autocomplete="off">
                <ul role="list" class="divide-y divide-gray-200 max-h-28 overflow-y-auto" id="copyToFound">

                </ul>
            </div>

            <div class="mt-6 col-span-2 flex justify-center">          
              <button id="copyConfirm" type="button" class="rounded bg-theme-1 py-1 px-2 font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Copiar Permisos</button>
            </div>
        </div>
    </div>
    <!-- END: Data List -->

  </div>
form


  <script src="../../../node_modules/sweetalert2/dist/sweetalert2.all.min.js"></script>
  <script src="../../../librerias/midone/js/app.js"></script>
  <script src="../../../node_modules/feather-icons/dist/feather.min.js"></script>
  <script src="../../../node_modules/tail.select.js/js/tail.select.min.js"></script>
  <script src="../../../node_modules/alpinejs/dist/cdn.js" defer></script>
  <script src="../../../node_modules/litepicker/dist/litepicker.js"></script>
  <script src="../../../node_modules/@popperjs/core/dist/umd/popper.min.js"></script>
  <script src="../../../node_modules/tippy.js/dist/tippy-bundle.umd.min.js"></script>
  <script src="../../../librerias/sheetjs/sheetjs.min.js"></script>
  <script src="../../../librerias/jquery-3.6.0.js"></script>

  <script src="./index.js"></script>
</body>

</html>